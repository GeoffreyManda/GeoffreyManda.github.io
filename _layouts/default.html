<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">

  {% include head.html %}

  <body>

    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    {% include header.html %}

    <main class="page-content" aria-label="Content" id="main-content">
      {{ content }}
    </main>

    {% include footer.html %}

    <!-- Floating Contact Button -->
    <a href="/contact" class="contact-fab" aria-label="Contact" title="Get in touch">
      <svg class="fab-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="1.8" />
        <path d="M4 7l8 6l8-6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </a>

    <!-- Back to Top Button -->
    <button id="back-to-top" aria-label="Back to top">
      <svg class="fab-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 19V5" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
        <path d="M6 11l6-6l6 6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </button>

    <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
    <script>
      // Back to Top Button
      const backToTop = document.getElementById('back-to-top');

      window.addEventListener('scroll', () => {
        if (window.pageYOffset > 300) {
          backToTop.classList.add('visible');
        } else {
          backToTop.classList.remove('visible');
        }
      });

      backToTop.addEventListener('click', () => {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });

      // Premium entrance animation
      document.body.style.opacity = '0';
      window.addEventListener('load', () => {
        setTimeout(() => {
          document.body.style.transition = 'opacity 0.6s cubic-bezier(0.4, 0, 0.6, 1)';
          document.body.style.opacity = '1';
        }, 50);
      });

      // Active Page Navigation Indicator
      const currentPath = window.location.pathname;
      const navLinks = document.querySelectorAll('.page-link');

      navLinks.forEach(link => {
        const linkPath = new URL(link.href).pathname;
        if (currentPath === linkPath || currentPath.startsWith(linkPath + '/')) {
          link.classList.add('active');
        }
      });

      // Loading State for Links
      const allLinks = document.querySelectorAll('a:not([href^="#"]):not([target="_blank"])');
      allLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          if (!this.classList.contains('no-loading')) {
            this.style.opacity = '0.6';
            this.style.pointerEvents = 'none';
          }
        });
      });
    </script>

  </body>

</html>
